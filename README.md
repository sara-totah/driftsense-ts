# DriftSense-TS Project

This project is a TypeScript-based testing framework using Playwright and Cucumber. The structure is organized to facilitate the development, execution, and reporting of automated tests.

## Table of Contents

- [Project Structure](#project-structure)
  - [Directories](#directories)
  - [Files](#files)
  - [Directories Hierarchy](#directories-hierarchy)


## Project Structure

### Directories

#### `.github/workflows`
- Contains GitHub Actions workflows for CI/CD pipelines.

#### `node_modules`
- Standard directory for Node.js dependencies.

#### `src`
- Main source directory for the project's code.

##### `src/helper`
- Contains helper utilities and modules for the testing framework.
  - `browsers`: Utilities for browser management.
    - `browserManager.ts`: Manages browser instances.
  - `env`: Environment configurations.
    - `.env.prod` | `.env.staging`: This project uses environment-specific configuration files to manage settings for different environments, such as production and staging.           These configurations are stored in `.env` files within this directory.
    - `env.ts`: Responsible for loading environment-specific configurations using `dotenv`. It loads the appropriate `.env` file based on the `ENV` environment variable.
  - `report`: Reporting utilities.
    - `report.ts`: Generates test reports.
    - `init.ts`: Responsible for initializing the test results directory. It ensures that the `test-results` directory exists and is empty before starting a new test run. This helps maintain a clean state for each test execution.
  - `types`: Type definitions and interfaces.
    - `env.d.ts`: Type definitions for environment variables.
  - `util`: General utility functions and data.
    - `test-data`: Contains test data files.
    - `logger.ts`: Logging utilities.
  - `wrapper`: Wrapper functions for Playwright interactions.
    - `assert.ts`: Custom assertion utilities.
    - `PlaywrightWrappers.ts`: Playwright interaction wrappers.

##### `src/hooks`
- Contains hooks used in the testing lifecycle.
  - `hooks.ts`: Global hooks for tests.

##### `src/pages`
- Page Object Model (POM) classes representing web pages.
  - `forgotPassword-page.ts`: Page object for the forgot password page.
  - `login-page.ts`: Page object for the login page.

##### `src/tests`
- Contains test files organized by feature.

#### `test-results`
- Stores test results.
  - `logs`: Contains log files generated during the test execution. These logs are useful for debugging and understanding the test flow.
  - `videos`: Contains videos taken for the test. 
  - `screenshots`: Contains screenshots taken during tests.
  - `cucumber-report.html`: An HTML report generated by Cucumber that provides a detailed, human-readable summary of the test results.
  - `cucumber-report.json`: A JSON report generated by Cucumber that provides a detailed, machine-readable summary of the test results.
  - `index.html`: An additional HTML report file that provides a dashboard of the test results.

### Files

#### `.gitignore`
- Specifies files and directories to be ignored by Git.

#### `rerun.txt`
- Stores failed test scenarios for re-execution.

#### `cucumber.json`
- Cucumber configuration file.
- The `cucumber.js` configuration file is crucial for setting up and running your Cucumber tests. Below is a summary of the key settings in the configuration:

  - **tags**: Allows running specific tagged scenarios. It defaults to an empty string but can be set using the `npm_config_TAGS` environment variable.
  - **formatOptions**: Specifies that snippets should use the `async-await` interface.
  - **paths**: Indicates the location of the feature files. Here, it's set to `src/tests/**/*.feature` to include all feature files in the `src/tests` directory and its subdirectories.
  - **dryRun**: When set to `false`, it executes the tests. If set to `true`, it only verifies that the steps are defined without actually running them.
  - **require**: Specifies the files containing step definitions and hooks that Cucumber needs to load before running the tests.
    - Includes `src/tests/**/*.ts` for all test step definitions.
    - Includes `src/hooks/hooks.ts` for hooks.
  - **requireModule**: Specifies additional modules to be loaded. Here, it includes `ts-node/register` to enable TypeScript support.
  - **format**: Defines the formats for the test reports:
    - `progress-bar`: Displays a progress bar during test execution.
    - `html:test-results/cucumber-report.html`: Generates an HTML report.
    - `json:test-results/cucumber-report.json`: Generates a JSON report.
    - `rerun:test-results/@rerun.txt`: Stores failed scenarios for rerun.
  - **parallel**: Allows running tests in parallel to speed up execution, with 3 parallel processes configured here.

#### `package.json`
- Contains metadata about the project and dependencies.

#### `package-lock.json`
- Lockfile for Node.js dependencies.

#### `playwright.config.ts`
- Configuration file for Playwright.

#### `tsconfig.json`
- TypeScript configuration file.

## Directories Hierarchy
```bash
DriftSense-TS
├── .github
│   └── workflows
├── node_modules
├── src
│   ├── helper
│   │   ├── browsers
│   │   ├── env
│   │   ├── report
│   │   ├── types
│   │   └── util
│   │       └── test-data
│   ├── hooks
│   ├── pages
│   └── tests
│      
├── test-results
│  └── screenshots
│   └── Videos
│   └── logs
│   └── @rerun.txt
│   └── cucumber-report.html
│   └── cucumber-report.json
├── cucumber.json
├── package-lock.json
├── package.json
├── playwright.config.ts
```

